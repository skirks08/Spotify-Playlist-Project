{"ast":null,"code":"import React,{useState,useCallback}from\"react\";import\"./App.css\";import Playlist from\"../Playlist/Playlist\";import SearchBar from\"../SearchBar/SearchBar\";import SearchResults from\"../SearchResults/SearchResults\";import Spotify from\"../../util/Spotify\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[searchResults,setSearchResults]=useState([]);const[playlistName,setPlaylistName]=useState(\"New Playlist\");const[playlistTracks,setPlaylistTracks]=useState([]);const search=useCallback(term=>{Spotify.search(term).then(setSearchResults);},[]);const addTrack=useCallback(track=>{if(playlistTracks.some(savedTrack=>savedTrack.id===track.id))return;setPlaylistTracks(prevTracks=>[...prevTracks,track]);},[playlistTracks]);const removeTrack=useCallback(track=>{setPlaylistTracks(prevTracks=>prevTracks.filter(currentTrack=>currentTrack.id!==track.id));},[]);const updatePlaylistName=useCallback(name=>{setPlaylistName(name);},[]);const savePlaylist=useCallback(()=>{const trackUris=playlistTracks.map(track=>track.uri);Spotify.savePlaylist(playlistName,trackUris).then(()=>{setPlaylistName(\"New Playlist\");setPlaylistTracks([]);});},[playlistName,playlistTracks]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Ja\",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"mmm\"}),\"ing\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:search}),/*#__PURE__*/_jsxs(\"div\",{className:\"App-playlist\",children:[/*#__PURE__*/_jsx(SearchResults,{searchResults:searchResults,onAdd:addTrack}),/*#__PURE__*/_jsx(Playlist,{playlistName:playlistName,playlistTracks:playlistTracks,onNameChange:updatePlaylistName,onRemove:removeTrack,onSave:savePlaylist})]})]})]});};export default App;","map":{"version":3,"names":["React","useState","useCallback","Playlist","SearchBar","SearchResults","Spotify","jsx","_jsx","jsxs","_jsxs","App","searchResults","setSearchResults","playlistName","setPlaylistName","playlistTracks","setPlaylistTracks","search","term","then","addTrack","track","some","savedTrack","id","prevTracks","removeTrack","filter","currentTrack","updatePlaylistName","name","savePlaylist","trackUris","map","uri","children","className","onSearch","onAdd","onNameChange","onRemove","onSave"],"sources":["/workspaces/Spotify-Playlist-Project/jammming/src/Components/App/App.js"],"sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport \"./App.css\"; \n\nimport Playlist from \"../Playlist/Playlist\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport SearchResults from \"../SearchResults/SearchResults\";\nimport Spotify from \"../../util/Spotify\";\n\nconst App = () => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [playlistName, setPlaylistName] = useState(\"New Playlist\");\n  const [playlistTracks, setPlaylistTracks] = useState([]);\n\n  const search = useCallback((term) => {\n    Spotify.search(term).then(setSearchResults);\n  }, []);\n\n  const addTrack = useCallback(\n    (track) => {\n      if (playlistTracks.some((savedTrack) => savedTrack.id === track.id))\n        return;\n\n      setPlaylistTracks((prevTracks) => [...prevTracks, track]);\n    },\n    [playlistTracks]\n  );\n\n  const removeTrack = useCallback((track) => {\n    setPlaylistTracks((prevTracks) =>\n      prevTracks.filter((currentTrack) => currentTrack.id !== track.id)\n    );\n  }, []);\n\n  const updatePlaylistName = useCallback((name) => {\n    setPlaylistName(name);\n  }, []);\n\n  const savePlaylist = useCallback(() => {\n    const trackUris = playlistTracks.map((track) => track.uri);\n    Spotify.savePlaylist(playlistName, trackUris).then(() => {\n      setPlaylistName(\"New Playlist\");\n      setPlaylistTracks([]);\n    });\n  }, [playlistName, playlistTracks]);\n\n  return (\n    <div>\n      <h1>\n        Ja<span className=\"highlight\">mmm</span>ing\n      </h1>\n      <div className=\"App\">\n        <SearchBar onSearch={search} />\n        <div className=\"App-playlist\">\n          <SearchResults searchResults={searchResults} onAdd={addTrack} />\n          <Playlist\n            playlistName={playlistName}\n            playlistTracks={playlistTracks}\n            onNameChange={updatePlaylistName}\n            onRemove={removeTrack}\n            onSave={savePlaylist}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}